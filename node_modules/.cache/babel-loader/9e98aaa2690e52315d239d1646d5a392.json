{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\Gym-Reactjs\\\\src\\\\components\\\\Search\\\\Searching\\\\Searching.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useCallback, useReducer, Fragment, useState, useRef } from \"react\";\nimport classes from \"./Searching.module.css\";\nimport LoadingSpinner from \"../../UI/LoadingSpinner/LoadingSpinner\";\nimport { GetAllTrainner } from \"../../../lib/TrainnerApi\";\nimport DietList from \"../../Diet/DietList/DietList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst searchReducer = (curSearching, action) => {\n  switch (action.type) {\n    case \"BEGIN\":\n      return {\n        isSearching: false,\n        error: false,\n        message: null,\n        isShowing: false,\n        typeSearching: action.typeSearching,\n        dataShow: null\n      };\n\n    case \"SEARCHING\":\n      return { ...curSearching,\n        isSearching: true\n      };\n\n    case \"ERROR\":\n      return { ...curSearching,\n        error: true,\n        message: action.message\n      };\n\n    case \"END\":\n      return { ...curSearching,\n        isSearching: false,\n        isShowing: true,\n        dataShow: action.dataShow\n      };\n\n    default:\n      throw new Error(\"No se pudo realizar la accion\");\n  }\n};\n\nconst Searching = props => {\n  _s();\n\n  const {\n    typeSearching\n  } = props;\n  const fechaInicioInputRef = useRef();\n  const fechaFinInputRef = useRef();\n  const alumnoInputRef = useRef();\n  const trainnerInputRef = useRef();\n  const [httpSearching, dispatchSearching] = useReducer(searchReducer, {\n    isSearching: false,\n    error: false,\n    message: null,\n    isShowing: false,\n    typeSearching: null,\n    dataShow: null\n  });\n  const [listTrainner, SetListTrainner] = useState([]);\n  const loadedTrainner = useCallback(async () => {\n    fechaInicioInputRef.current.value = new Date().toISOString().substring(0, 10);\n    fechaFinInputRef.current.value = new Date().toISOString().substring(0, 10);\n    let list = await GetAllTrainner();\n    SetListTrainner(list);\n  }, []);\n  const assigmentValues = useCallback(async () => {\n    switch (typeSearching) {\n      case \"DIET\":\n        dispatchSearching({\n          type: \"BEGIN\",\n          typeSearching: typeSearching\n        });\n        loadedTrainner();\n        break;\n\n      case \"ROUTINE\":\n        dispatchSearching({\n          type: \"BEGIN\",\n          typeSearching: typeSearching\n        });\n        loadedTrainner();\n        break;\n\n      case \"STUDENT\":\n        dispatchSearching({\n          type: \"BEGIN\",\n          typeSearching: typeSearching\n        });\n        break;\n\n      default:\n        throw new Error(\"No se pudo realizar la accion\");\n    }\n  }, [typeSearching, dispatchSearching, loadedTrainner]);\n  useEffect(() => {\n    assigmentValues();\n  }, [assigmentValues]);\n\n  const onShowResult = () => {\n    dispatchSearching({\n      type: \"SEARCHING\"\n    });\n    const fechaInicio = new Date(fechaInicioInputRef.current.value).toISOString().substring(0, 10);\n    const fechaFin = new Date(fechaFinInputRef.current.value).toISOString().substring(0, 10);\n\n    switch (httpSearching.typeSearching) {\n      case \"DIET\":\n        const result = [];\n        dispatchSearching({\n          type: \"END\",\n          dataShow: /*#__PURE__*/React.memo( /*#__PURE__*/_jsxDEV(DietList, {\n            dietList: result\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 32\n          }, this))\n        });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.searching,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Busqueda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fechaInicio\",\n          children: \"Fecha Inicio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"fechaInicio\",\n          required: true,\n          ref: fechaInicioInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fechaFin\",\n          children: \"Fecha Fin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"fechaFin\",\n          required: true,\n          ref: fechaFinInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onShowResult,\n            className: classes.toggle,\n            children: \"Buscar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), httpSearching.isSearching && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }, this), !httpSearching.isSearching && !httpSearching.error && httpSearching.isShowing && httpSearching.dataShow]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Searching, \"R6CbNS19y4Hf4hurX/iP+mFDsxU=\");\n\n_c = Searching;\nexport default Searching;\n\nvar _c;\n\n$RefreshReg$(_c, \"Searching\");","map":{"version":3,"names":["React","useEffect","useCallback","useReducer","Fragment","useState","useRef","classes","LoadingSpinner","GetAllTrainner","DietList","searchReducer","curSearching","action","type","isSearching","error","message","isShowing","typeSearching","dataShow","Error","Searching","props","fechaInicioInputRef","fechaFinInputRef","alumnoInputRef","trainnerInputRef","httpSearching","dispatchSearching","listTrainner","SetListTrainner","loadedTrainner","current","value","Date","toISOString","substring","list","assigmentValues","onShowResult","fechaInicio","fechaFin","result","memo","searching","control","actions","toggle"],"sources":["C:/React/Gym-Reactjs/src/components/Search/Searching/Searching.js"],"sourcesContent":["import React, {\r\n  useEffect,\r\n  useCallback,\r\n  useReducer,\r\n  Fragment,\r\n  useState,\r\n  useRef,\r\n} from \"react\";\r\nimport classes from \"./Searching.module.css\";\r\nimport LoadingSpinner from \"../../UI/LoadingSpinner/LoadingSpinner\";\r\nimport { GetAllTrainner } from \"../../../lib/TrainnerApi\";\r\nimport DietList from \"../../Diet/DietList/DietList\";\r\n\r\nconst searchReducer = (curSearching, action) => {\r\n  switch (action.type) {\r\n    case \"BEGIN\":\r\n      return {\r\n        isSearching: false,\r\n        error: false,\r\n        message: null,\r\n        isShowing: false,\r\n        typeSearching: action.typeSearching,\r\n        dataShow: null,\r\n      };\r\n    case \"SEARCHING\":\r\n      return {\r\n        ...curSearching,\r\n        isSearching: true,\r\n      };\r\n    case \"ERROR\":\r\n      return { ...curSearching, error: true, message: action.message };\r\n    case \"END\":\r\n      return {\r\n        ...curSearching,\r\n        isSearching: false,\r\n        isShowing: true,\r\n        dataShow: action.dataShow,\r\n      };\r\n    default:\r\n      throw new Error(\"No se pudo realizar la accion\");\r\n  }\r\n};\r\n\r\nconst Searching = (props) => {\r\n  const { typeSearching } = props;\r\n  const fechaInicioInputRef = useRef();\r\n  const fechaFinInputRef = useRef();\r\n  const alumnoInputRef = useRef();\r\n  const trainnerInputRef = useRef();\r\n  const [httpSearching, dispatchSearching] = useReducer(searchReducer, {\r\n    isSearching: false,\r\n    error: false,\r\n    message: null,\r\n    isShowing: false,\r\n    typeSearching: null,\r\n    dataShow: null,\r\n  });\r\n  const [listTrainner, SetListTrainner] = useState([]);\r\n\r\n  const loadedTrainner = useCallback(async () => {\r\n    fechaInicioInputRef.current.value = new Date()\r\n      .toISOString()\r\n      .substring(0, 10);\r\n    fechaFinInputRef.current.value = new Date().toISOString().substring(0, 10);\r\n    let list = await GetAllTrainner();\r\n    SetListTrainner(list);\r\n  }, []);\r\n\r\n  const assigmentValues = useCallback(async () => {\r\n    switch (typeSearching) {\r\n      case \"DIET\":\r\n        dispatchSearching({ type: \"BEGIN\", typeSearching: typeSearching });\r\n        loadedTrainner();\r\n        break;\r\n      case \"ROUTINE\":\r\n        dispatchSearching({ type: \"BEGIN\", typeSearching: typeSearching });\r\n        loadedTrainner();\r\n        break;\r\n      case \"STUDENT\":\r\n        dispatchSearching({ type: \"BEGIN\", typeSearching: typeSearching });\r\n        break;\r\n      default:\r\n        throw new Error(\"No se pudo realizar la accion\");\r\n    }\r\n  }, [typeSearching, dispatchSearching, loadedTrainner]);\r\n\r\n  useEffect(() => {\r\n    assigmentValues();\r\n  }, [assigmentValues]);\r\n\r\n  const onShowResult = () => {\r\n    dispatchSearching({ type: \"SEARCHING\" });\r\n\r\n    const fechaInicio = new Date(fechaInicioInputRef.current.value)\r\n      .toISOString()\r\n      .substring(0, 10);\r\n\r\n    const fechaFin = new Date(fechaFinInputRef.current.value)\r\n      .toISOString()\r\n      .substring(0, 10);\r\n\r\n    switch (httpSearching.typeSearching) {\r\n      case \"DIET\":\r\n        const result = [];\r\n        dispatchSearching({\r\n          type: \"END\",\r\n          dataShow: React.memo(<DietList dietList={result} />),\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <section className={classes.searching}>\r\n        <h1>Busqueda</h1>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"fechaInicio\">Fecha Inicio</label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"fechaInicio\"\r\n            required\r\n            ref={fechaInicioInputRef}\r\n          />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor=\"fechaFin\">Fecha Fin</label>\r\n          <input type=\"date\" id=\"fechaFin\" required ref={fechaFinInputRef} />\r\n        </div>\r\n        <div className={classes.control}>\r\n          <div className={classes.actions}>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onShowResult}\r\n              className={classes.toggle}\r\n            >\r\n              Buscar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {httpSearching.isSearching && <LoadingSpinner />}\r\n      {!httpSearching.isSearching &&\r\n        !httpSearching.error &&\r\n        httpSearching.isShowing &&\r\n        httpSearching.dataShow}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Searching;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}